const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/web.C8LvoEPP.js","../chunks/index.C9AwUYvo.js"])))=>i.map(i=>d[i]);
import{c as Ne,a as M,n as le,t as j}from"../chunks/disclose-version.CYz_FB68.js";import{x as O,h as ce,g as Pe,v as qe,j as He,W as Ge,O as Ye,q as Te,ac as Ve,ad as he,e as fe,k as U,l as We,at as se,ab as De,w as Le,Z as Ke,y as ne,au as Xe,av as Qe,o as Ue,aw as Ze,Y as Je,P as Me,S as je,a5 as ge,ax as $e,ay as et,az as tt,b as at,aa as ye,aA as st,aB as rt,X as it,aC as nt,aD as ot,ae as lt,D as ct,aE as ft,ag as vt,Q as Z,aF as ut,M as be,N as xe,p as me,aG as ve,aH as dt,f as oe,a as pe,G as h,aI as ue,c as C,r as w,t as W,s as S,I as G,T as J,a1 as _t}from"../chunks/runtime.ChiA4CeX.js";import{d as Oe}from"../chunks/store.CxhUZB2U.js";import{p as x,i as K,b as mt,a as te,o as pt}from"../chunks/index-client.CHdo7_Hq.js";import{a as ht,s as re}from"../chunks/render.Dvp-5cDl.js";import{g as gt}from"../chunks/entry.D5alT_1h.js";import{B as de}from"../chunks/bleClient.DXSZBbG9.js";import{_ as yt}from"../chunks/preload-helper.C1FmrZbK.js";import{r as bt}from"../chunks/index.C9AwUYvo.js";import{i as xt}from"../chunks/legacy.epeeO9mt.js";function wt(t,e){return e}function Ct(t,e,a,s){for(var n=[],l=e.length,i=0;i<l;i++)Qe(e[i].e,n,!0);var u=l>0&&n.length===0&&a!==null;if(u){var o=a.parentNode;Ue(o),o.append(a),s.clear(),B(t,e[0].prev,e[l-1].next)}Ze(n,()=>{for(var c=0;c<l;c++){var r=e[c];u||(s.delete(r.k),B(t,r.prev,r.next)),Je(r.e,!u)}})}function At(t,e,a,s,n,l=null){var i=t,u={flags:e,items:new Map,first:null};{var o=t;i=O?ce(Pe(o)):o.appendChild(qe())}O&&He();var c=null,r=!1;Ge(()=>{var _=a(),f=Ye(_)?_:_==null?[]:Te(_),v=f.length;if(r&&v===0)return;r=v===0;let d=!1;if(O){var p=i.data===Ve;p!==(v===0)&&(i=he(),ce(i),fe(!1),d=!0)}if(O){for(var y=null,m,g=0;g<v;g++){if(U.nodeType===8&&U.data===We){i=U,d=!0,fe(!1);break}var k=f[g],A=s(k,g);m=Se(U,u,y,null,k,A,g,n,e),u.items.set(A,m),y=m}v>0&&ce(he())}if(!O){var b=Me;kt(f,u,i,n,e,(b.f&se)!==0,s)}l!==null&&(v===0?c?De(c):c=Le(()=>l(i)):c!==null&&Ke(c,()=>{c=null})),d&&fe(!0),a()}),O&&(i=U)}function kt(t,e,a,s,n,l,i){var u=t.length,o=e.items,c=e.first,r=c,_,f=null,v=[],d=[],p,y,m,g;for(g=0;g<u;g+=1){if(p=t[g],y=i(p,g),m=o.get(y),m===void 0){var k=r?r.e.nodes_start:a;f=Se(k,e,f,f===null?e.first:f.next,p,y,g,s,n),o.set(y,f),v=[],d=[],r=f.next;continue}if(Et(m,p,g),m.e.f&se&&De(m.e),m!==r){if(_!==void 0&&_.has(m)){if(v.length<d.length){var A=d[0],b;f=A.prev;var N=v[0],T=v[v.length-1];for(b=0;b<v.length;b+=1)we(v[b],A,a);for(b=0;b<d.length;b+=1)_.delete(d[b]);B(e,N.prev,T.next),B(e,f,N),B(e,T,A),r=A,f=T,g-=1,v=[],d=[]}else _.delete(m),we(m,r,a),B(e,m.prev,m.next),B(e,m,f===null?e.first:f.next),B(e,f,m),f=m;continue}for(v=[],d=[];r!==null&&r.k!==y;)(l||!(r.e.f&se))&&(_??(_=new Set)).add(r),d.push(r),r=r.next;if(r===null)continue;m=r}v.push(m),f=m,r=m.next}if(r!==null||_!==void 0){for(var I=_===void 0?[]:Te(_);r!==null;)(l||!(r.e.f&se))&&I.push(r),r=r.next;var D=I.length;if(D>0){var Y=u===0?a:null;Ct(e,I,Y,o)}}ne.first=e.first&&e.first.e,ne.last=f&&f.e}function Et(t,e,a,s){Xe(t.v,e),t.i=a}function Se(t,e,a,s,n,l,i,u,o){var c=(o&et)!==0,r=(o&tt)===0,_=c?r?je(n):ge(n):n,f=o&$e?ge(i):i,v={i:f,v:_,k:l,a:null,e:null,prev:a,next:s};try{return v.e=Le(()=>u(t,_,f),O),v.e.prev=a&&a.e,v.e.next=s&&s.e,a===null?e.first=v:(a.next=v,a.e.next=v.e),s!==null&&(s.prev=v,s.e.prev=v.e),v}finally{}}function we(t,e,a){for(var s=t.next?t.next.e.nodes_start:a,n=e?e.e.nodes_start:a,l=t.e.nodes_start;l!==s;){var i=at(l);n.before(l),l=i}}function B(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function z(t,e,a,s){var n=t.__attributes??(t.__attributes={});O&&(n[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||n[e]!==(n[e]=a)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[st]=a),a==null?t.removeAttribute(e):typeof a!="string"&&zt(t).includes(e)?t[e]=a:t.setAttribute(e,a))}var Ce=new Map;function zt(t){var e=Ce.get(t.nodeName);if(e)return e;Ce.set(t.nodeName,e=[]);for(var a,s=ye(t),n=Element.prototype;n!==s;){a=rt(s);for(var l in a)a[l].set&&e.push(l);s=ye(s)}return e}function It(t,e){var a=t.__className,s=Nt(e);O&&t.getAttribute("class")===s?t.__className=s:(a!==s||O&&t.getAttribute("class")!==s)&&(s===""?t.removeAttribute("class"):t.setAttribute("class",s),t.__className=s)}function Nt(t){return t??""}function F(t,e,a){if(a){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}const Tt=()=>performance.now(),R={tick:t=>requestAnimationFrame(t),now:()=>Tt(),tasks:new Set};function Fe(t){R.tasks.forEach(e=>{e.c(t)||(R.tasks.delete(e),e.f())}),R.tasks.size!==0&&R.tick(Fe)}function Dt(t){let e;return R.tasks.size===0&&R.tick(Fe),{promise:new Promise(a=>{R.tasks.add(e={c:t,f:a})}),abort(){R.tasks.delete(e)}}}function ae(t,e){t.dispatchEvent(new CustomEvent(e))}function Lt(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function Ae(t){const e={},a=t.split(";");for(const s of a){const[n,l]=s.split(":");if(!n||l===void 0)break;const i=Lt(n.trim());e[i]=l.trim()}return e}const Mt=t=>t;function ke(t,e,a,s){var n=(t&ut)!==0,l="both",i,u=e.inert,o,c;function r(){var p=Me,y=ne;be(null),xe(null);try{return i??(i=a()(e,(s==null?void 0:s())??{},{direction:l}))}finally{be(p),xe(y)}}var _={is_global:n,in(){e.inert=u,ae(e,"introstart"),o=_e(e,r(),c,1,()=>{ae(e,"introend"),o==null||o.abort(),o=i=void 0})},out(p){e.inert=!0,ae(e,"outrostart"),c=_e(e,r(),o,0,()=>{ae(e,"outroend"),p==null||p()})},stop:()=>{o==null||o.abort(),c==null||c.abort()}},f=ne;if((f.transitions??(f.transitions=[])).push(_),ht){var v=n;if(!v){for(var d=f.parent;d&&d.f&it;)for(;(d=d.parent)&&!(d.f&nt););v=!d||(d.f&ot)!==0}v&&lt(()=>{ct(()=>_.in())})}}function _e(t,e,a,s,n){var l=s===1;if(ft(e)){var i,u=!1;return vt(()=>{if(!u){var y=e({direction:l?"in":"out"});i=_e(t,y,a,s,n)}}),{abort:()=>{u=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(a==null||a.deactivate(),!(e!=null&&e.duration))return n(),{abort:Z,deactivate:Z,reset:Z,t:()=>s};const{delay:o=0,css:c,tick:r,easing:_=Mt}=e;var f=[];if(l&&a===void 0&&(r&&r(0,1),c)){var v=Ae(c(0,1));f.push(v,v)}var d=()=>1-s,p=t.animate(f,{duration:o});return p.onfinish=()=>{var y=(a==null?void 0:a.t())??1-s;a==null||a.abort();var m=s-y,g=e.duration*Math.abs(m),k=[];if(g>0){if(c)for(var A=Math.ceil(g/16.666666666666668),b=0;b<=A;b+=1){var N=y+m*_(b/A),T=c(N,1-N);k.push(Ae(T))}d=()=>{var I=p.currentTime;return y+m*_(I/g)},r&&Dt(()=>{if(p.playState!=="running")return!1;var I=d();return r(I,1-I),!0})}p=t.animate(k,{duration:g,fill:"forwards"}),p.onfinish=()=>{d=()=>s,r==null||r(s,1-s),n()}},{abort:()=>{p&&(p.cancel(),p.effect=null,p.onfinish=Z)},deactivate:()=>{n=Z},reset:()=>{s===0&&(r==null||r(1,0))},t:()=>d()}}/*!
 * Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const Ot={prefix:"fas",iconName:"square-plus",icon:[448,512,[61846,"plus-square"],"f0fe","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM200 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},St={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},Ft={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]},Be=bt("ScreenOrientation",{web:()=>yt(()=>import("../chunks/web.C8LvoEPP.js"),__vite__mapDeps([0,1]),import.meta.url).then(t=>new t.ScreenOrientationWeb)});/*!
 * Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const Bt={prefix:"fab",iconName:"bluetooth-b",icon:[320,512,[],"f294","M196.48 260.023l92.626-103.333L143.125 0v206.33l-86.111-86.111-31.406 31.405 108.061 108.399L25.608 368.422l31.406 31.405 86.111-86.111L145.84 512l148.552-148.644-97.912-103.333zm40.86-102.996l-49.977 49.978-.338-100.295 50.315 50.317zM187.363 313.04l49.977 49.978-50.315 50.316.338-100.294z"]};function Ee(t,e){e&&e!=="lg"&&e!=="sm"&&e!=="xs"?t.style.fontSize=e.replace("x","em"):t.style.fontSize=""}function Rt(t,e,a,s,n,l=1,i="",u=""){let o=1,c=1;n&&(n=="horizontal"?o=-1:n=="vertical"?c=-1:o=c=-1),typeof t=="string"&&(t=parseFloat(t)),typeof e=="string"&&(e=parseFloat(e)),typeof a=="string"&&(a=parseFloat(a));const r=`${e*l}${i}`,_=`${a*l}${i}`;let f=`translate(${r},${_}) scale(${o*t},${c*t})`;return s&&(f+=` rotate(${s}${u})`),f}var Pt=le('<title class="svelte-bvo74f"> </title>'),qt=le('<path class="svelte-bvo74f"></path>'),Ht=le('<path class="svelte-bvo74f"></path><path class="svelte-bvo74f"></path>',1),Gt=le('<svg aria-hidden="true" role="img" xmlns="http://www.w3.org/2000/svg"><!><g class="svelte-bvo74f"><g class="svelte-bvo74f"><!></g></g></svg>');function ie(t,e){me(e,!1);const a=ue(),s=ue();let n=x(e,"class",24,()=>{}),l=x(e,"id",24,()=>{}),i=x(e,"style",24,()=>{}),u=x(e,"icon",8),o=x(e,"title",24,()=>{}),c=x(e,"size",24,()=>{}),r=x(e,"color",24,()=>{}),_=x(e,"fw",8,!1),f=x(e,"pull",24,()=>{}),v=x(e,"scale",8,1),d=x(e,"translateX",8,0),p=x(e,"translateY",8,0),y=x(e,"rotate",24,()=>{}),m=x(e,"flip",24,()=>{}),g=x(e,"spin",8,!1),k=x(e,"pulse",8,!1),A=x(e,"primaryColor",8,""),b=x(e,"secondaryColor",8,""),N=x(e,"primaryOpacity",8,1),T=x(e,"secondaryOpacity",8,.4),I=x(e,"swapOpacity",8,!1),D=ue();ve(()=>(h(D),G(c()),Ee),()=>{h(D)&&c()&&Ee(h(D),c())}),ve(()=>G(u()),()=>{J(a,u()&&u().icon||[0,0,"",[],""])}),ve(()=>(G(v()),G(d()),G(p()),G(y()),G(m())),()=>{J(s,Rt(v(),d(),p(),y(),m(),512))}),dt(),xt();var Y=Ne(),$=oe(Y);K($,()=>h(a)[4],X=>{var E=Gt(),Q=C(E);K(Q,o,q=>{var L=Pt(),H=C(L,!0);w(L),W(()=>re(H,o())),M(q,L)});var V=S(Q),P=C(V),Re=C(P);K(Re,()=>typeof h(a)[4]=="string",q=>{var L=qt();W(()=>{z(L,"d",h(a)[4]),z(L,"fill",r()||A()||"currentColor"),z(L,"transform",`translate(${h(a)[0]/-2} ${h(a)[1]/-2})`)}),M(q,L)},q=>{var L=Ht(),H=oe(L),ee=S(H);W(()=>{z(H,"d",h(a)[4][0]),z(H,"fill",b()||r()||"currentColor"),z(H,"fill-opacity",I()!=!1?N():T()),z(H,"transform",`translate(${h(a)[0]/-2} ${h(a)[1]/-2})`),z(ee,"d",h(a)[4][1]),z(ee,"fill",A()||r()||"currentColor"),z(ee,"fill-opacity",I()!=!1?T():N()),z(ee,"transform",`translate(${h(a)[0]/-2} ${h(a)[1]/-2})`)}),M(q,L)}),w(P),w(V),w(E),mt(E,q=>J(D,q),()=>h(D)),W(()=>{z(E,"id",l()),It(E,`svelte-fa svelte-fa-base ${n()??""} svelte-bvo74f`),z(E,"style",i()),z(E,"viewBox",`0 0 ${h(a)[0]??""} ${h(a)[1]??""}`),F(E,"pulse",k()),F(E,"svelte-fa-size-lg",c()==="lg"),F(E,"svelte-fa-size-sm",c()==="sm"),F(E,"svelte-fa-size-xs",c()==="xs"),F(E,"svelte-fa-fw",_()),F(E,"svelte-fa-pull-left",f()==="left"),F(E,"svelte-fa-pull-right",f()==="right"),F(E,"spin",g()),z(V,"transform",`translate(${h(a)[0]/2} ${h(a)[1]/2})`),z(V,"transform-origin",`${h(a)[0]/4} 0`),z(P,"transform",h(s))}),M(X,E)}),M(t,Y),pe()}function ze(t){const e=t-1;return e*e*e+1}const Yt=t=>t;function Vt(t){const e=t-1;return e*e*e+1}function Ie(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}function Wt(t,{delay:e=0,duration:a=400,easing:s=Yt}={}){const n=+getComputedStyle(t).opacity;return{delay:e,duration:a,easing:s,css:l=>`opacity: ${l*n}`}}function Kt(t,{delay:e=0,duration:a=400,easing:s=Vt,x:n=0,y:l=0,opacity:i=0}={}){const u=getComputedStyle(t),o=+u.opacity,c=u.transform==="none"?"":u.transform,r=o*(1-i),[_,f]=Ie(n),[v,d]=Ie(l);return{delay:e,duration:a,easing:s,css:(p,y)=>`
			transform: ${c} translate(${(1-p)*_}${f}, ${(1-p)*v}${d});
			opacity: ${o-r*y}`}}var Xt=(t,e)=>{e.onClose()},Qt=()=>{},Ut=j('<div class="inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-e-transparent align-[-0.125em] text-primary motion-reduce:animate-[spin_1.5s_linear_infinite]" role="status"><span class="!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]">Loading...</span></div>'),Zt=async(t,e)=>{h(e).loading=!0,await de.connect(h(e).device.deviceId),await Be.lock({orientation:"landscape"}),gt("/controller/"+h(e).device.deviceId)},Jt=j('<button class="unstyledButton"><div class="bluetoothDeviceContainer svelte-8m60mu"><div class="bluetoothDevice svelte-8m60mu"><div class="bluetoothIcon svelte-8m60mu"><!></div> <div class="bluetoothDeviceDetails svelte-8m60mu"><h3> </h3> <p class="svelte-8m60mu"> </p></div></div></div></button>'),jt=j('<div class="bluetoothDevicesContainer svelte-8m60mu"></div>'),$t=j('<main><div class="overlay svelte-8m60mu"></div> <div class="modal svelte-8m60mu"><div class="modalContainer svelte-8m60mu"><div class="top"><div class="topInfo svelte-8m60mu"><h1 class="svelte-8m60mu"> </h1> <button class="unstyled-button closeButton svelte-8m60mu"><!></button></div></div> <div class="devicesList flex items-center justify-center m-3"><!></div></div></div></main>');function ea(t,e){me(e,!0);let a=x(e,"bluetoothDevices",7);a(a().filter((l,i,u)=>i===u.findIndex(o=>o.device.deviceId===l.device.deviceId)));var s=Ne(),n=oe(s);K(n,()=>e.opened,l=>{var i=$t(),u=C(i);u.__click=[Xt,e],u.__keydown=[Qt],z(u,"aria-hidden",!0);var o=S(u,2),c=C(o),r=C(c),_=C(r),f=C(_),v=C(f,!0);w(f);var d=S(f,2);d.__click=function(...g){var k;(k=e.onClose)==null||k.apply(this,g)};var p=C(d);ie(p,{icon:St,rotate:"45",size:"1.8x"}),w(d),w(_),w(r);var y=S(r,2),m=C(y);K(m,()=>a().length<=0,g=>{var k=Ut();M(g,k)},g=>{var k=jt();At(k,21,()=>a().filter(A=>!!A.device.name).sort((A,b)=>(b.rssi||0)-(A.rssi||0)),wt,(A,b)=>{var N=Jt();N.__click=[Zt,b];var T=C(N),I=C(T),D=C(I),Y=C(D);K(Y,()=>h(b).loading,P=>{ie(P,{icon:Ft,pulse:!0})},P=>{ie(P,{icon:Bt,size:"1.25x"})}),w(D);var $=S(D,2),X=C($),E=C(X,!0);w(X);var Q=S(X,2),V=C(Q,!0);w(Q),w($),w(I),w(T),w(N),W(()=>{re(E,h(b).device.name),re(V,h(b).device.deviceId)}),M(A,N)}),w(k),M(g,k)}),w(y),w(c),w(o),w(i),W(()=>re(v,e.title)),ke(3,u,()=>Wt,()=>({duration:200,easing:ze})),ke(3,o,()=>Kt,()=>({duration:250,y:200,easing:ze})),M(l,i)}),M(t,s),pe()}Oe(["click","keydown"]);var ta=(t,e,a)=>{e.opened=!0,a()},aa=j('<!> <main class="svelte-j8au8c"><button class="unstyled-button add-device-button svelte-j8au8c"><h1 class="svelte-j8au8c">Add Device</h1> <!></button></main>',1);function da(t,e){me(e,!0);let a=te({opened:!1,title:"Add Device",onClose:()=>{a.opened=!1}}),s=_t(te([]));const n=async()=>{J(s,te([])),await de.requestLEScan({},r=>{console.log(r.device.deviceId),h(s).some(_=>_.device.deviceId===r.device.deviceId)||J(s,te([...h(s),{...r,loading:!1}]))})};pt(async()=>{Be.lock({orientation:"portrait"}),de.initialize()});var l=aa(),i=oe(l);ea(i,{get opened(){return a.opened},get onClose(){return a.onClose},title:"Add Device",get bluetoothDevices(){return h(s)}});var u=S(i,2),o=C(u);o.__click=[ta,a,n];var c=S(C(o),2);ie(c,{icon:Ot,size:"1.3x"}),w(o),w(u),M(t,l),pe()}Oe(["click"]);export{da as component};
